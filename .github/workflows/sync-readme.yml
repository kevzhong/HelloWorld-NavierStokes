name: Sync README

on:
  push:
    branches:
      - main  # Trigger when README.md is updated on the main branch

jobs:
  sync-readme:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout the repository
      uses: actions/checkout@v3

    - name: Sync README.md across branches
      run: |
        branches=$(git branch -r | grep -v "main" | sed 's|origin/||')
        for branch in $branches; do
          git checkout $branch
          git checkout main -- README.md
          git commit -m "Sync README.md from main" || echo "No changes to commit"
          git push origin $branch
        done
